# æ£€æŸ¥ç‚¹æœºåˆ¶ (Checkpoint System) v2.0

## æ¦‚è¿°

æ£€æŸ¥ç‚¹æœºåˆ¶å…è®¸é•¿ä»»åŠ¡åœ¨ä¸­æ–­åæ¢å¤æ‰§è¡Œï¼Œé¿å…é‡å¤å·¥ä½œã€‚v2.0 ç‰ˆæœ¬å¼•å…¥**åŸå­å†™å…¥**å’Œ**æ ¡éªŒå’ŒéªŒè¯**ï¼Œç¡®ä¿æ£€æŸ¥ç‚¹æ•°æ®çš„å¯é æ€§ã€‚

---

## æ ¸å¿ƒç‰¹æ€§ (v2.0 æ–°å¢)

| ç‰¹æ€§ | è¯´æ˜ | é»˜è®¤ |
|------|------|------|
| **åŸå­å†™å…¥** | write-rename æ¨¡å¼ï¼Œé˜²æ­¢å†™å…¥ä¸­æ–­å¯¼è‡´æ•°æ®æŸå | å¯ç”¨ |
| **SHA-256 æ ¡éªŒå’Œ** | éªŒè¯æ£€æŸ¥ç‚¹å®Œæ•´æ€§ | å¯ç”¨ |
| **å¤šç‰ˆæœ¬å¤‡ä»½** | ä¿ç•™å¤šä¸ªå†å²å¤‡ä»½ | 3 ä¸ª |
| **è‡ªåŠ¨æ¢å¤** | æ ¡éªŒå¤±è´¥æ—¶è‡ªåŠ¨ä»å¤‡ä»½æ¢å¤ | å¯ç”¨ |

---

## æ£€æŸ¥ç‚¹æ•°æ®ç»“æ„

### ä¸»æ£€æŸ¥ç‚¹æ–‡ä»¶

ä½ç½®: `.skillpack/current/checkpoint.json`

```json
{
  "version": "2.0",
  "task_id": "uuid-v4",
  "task_description": "åŸå§‹ä»»åŠ¡æè¿°",
  "route": "RALPH",
  "complexity_score": 58,
  "scoring_breakdown": {
    "scope": 18,
    "dependency": 12,
    "technical": 15,
    "risk": 6,
    "time": 4,
    "ui": 3
  },
  "execution": {
    "current_phase": 3,
    "total_phases": 4,
    "phases": [
      {
        "number": 1,
        "name": "æ·±åº¦åˆ†æ",
        "status": "completed",
        "model": "claude",
        "started_at": "2026-01-18T10:00:00Z",
        "completed_at": "2026-01-18T10:15:00Z",
        "output_file": "1_analysis.md",
        "metrics": {
          "duration_ms": 900000,
          "tokens_used": 8500
        }
      }
    ]
  },
  "subtasks": {
    "total": 5,
    "completed": ["subtask_1", "subtask_2"],
    "in_progress": "subtask_3",
    "pending": ["subtask_4", "subtask_5"]
  },
  "files": {
    "created": ["src/auth.ts"],
    "modified": [
      {"path": "src/types.ts", "checksum": "sha256:abc123", "size": 1234}
    ],
    "outputs": [
      ".skillpack/current/1_analysis.md",
      ".skillpack/current/2_plan.md"
    ]
  },
  "context": {
    "knowledge_query_result": "...",
    "important_decisions": []
  },
  "recovery": {
    "can_resume": true,
    "resume_point": "phase_3_subtask_3",
    "notes": "å­ä»»åŠ¡3æ‰§è¡Œåˆ°ç¬¬2æ­¥",
    "error_log": []
  },
  "timestamps": {
    "created": "2026-01-18T10:00:00Z",
    "updated": "2026-01-18T10:30:00Z"
  },
  "checksum": "sha256:æ•´ä¸ªæ–‡ä»¶å†…å®¹çš„æ ¡éªŒå’Œ(ä¸å«æ­¤å­—æ®µ)"
}
```

### æ ¡éªŒå’Œæ–‡ä»¶

ä½ç½®: `.skillpack/current/checkpoint.json.sha256`

```
sha256:e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855
```

---

## åŸå­å†™å…¥æœºåˆ¶

### å†™å…¥æµç¨‹

```
ä¿å­˜æ£€æŸ¥ç‚¹
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Step 1: ç”Ÿæˆä¸´æ—¶æ–‡ä»¶                         â”‚
â”‚   æ–‡ä»¶å: checkpoint.json.tmp.{random_id}   â”‚
â”‚   ä½ç½®: .skillpack/current/                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Step 2: å†™å…¥å®Œæ•´æ•°æ®                         â”‚
â”‚   - åºåˆ—åŒ– JSON                             â”‚
â”‚   - è®¡ç®— SHA-256 (ä¸å« checksum å­—æ®µ)        â”‚
â”‚   - å†™å…¥ checksum å­—æ®µ                       â”‚
â”‚   - fsync ç¡®ä¿å†™å…¥ç£ç›˜                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Step 3: åŸå­é‡å‘½å                           â”‚
â”‚   mv checkpoint.json.tmp.{id}               â”‚
â”‚      â†’ checkpoint.json                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Step 4: æ›´æ–°æ ¡éªŒå’Œæ–‡ä»¶                       â”‚
â”‚   å†™å…¥ checkpoint.json.sha256               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Step 5: è½®è½¬å¤‡ä»½                             â”‚
â”‚   .backup.3 â†’ åˆ é™¤                          â”‚
â”‚   .backup.2 â†’ .backup.3                     â”‚
â”‚   .backup.1 â†’ .backup.2                     â”‚
â”‚   æ—§ checkpoint.json â†’ .backup.1            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Step 6: æ¸…ç†ä¸´æ—¶æ–‡ä»¶                         â”‚
â”‚   åˆ é™¤æ‰€æœ‰ .tmp.* æ–‡ä»¶                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### å†™å…¥å¤±è´¥å¤„ç†

| å¤±è´¥é˜¶æ®µ | å½±å“ | å¤„ç† |
|----------|------|------|
| Step 1-2 | æ—  | ä¸´æ—¶æ–‡ä»¶è‡ªåŠ¨æ¸…ç† |
| Step 3 | æ—  | åŸæ–‡ä»¶ä¿æŒä¸å˜ |
| Step 4-6 | è½»å¾® | ä¸‹æ¬¡ä¿å­˜æ—¶ä¿®å¤ |

---

## SHA-256 æ ¡éªŒå’ŒéªŒè¯

### æ ¡éªŒå’Œç”Ÿæˆ

```python
def generate_checksum(checkpoint_data: dict) -> str:
    """ç”Ÿæˆæ£€æŸ¥ç‚¹æ ¡éªŒå’Œ"""
    # ç§»é™¤ checksum å­—æ®µé¿å…é€’å½’
    data_copy = checkpoint_data.copy()
    data_copy.pop('checksum', None)

    # åºåˆ—åŒ–ä¸ºç¡®å®šæ€§ JSON
    json_str = json.dumps(data_copy, sort_keys=True, ensure_ascii=False)

    # è®¡ç®— SHA-256
    return f"sha256:{hashlib.sha256(json_str.encode()).hexdigest()}"
```

### æ ¡éªŒæµç¨‹

```
è¯»å–æ£€æŸ¥ç‚¹
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Step 1: è¯»å– checkpoint.json                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Step 2: æå– checksum å­—æ®µ                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Step 3: é‡æ–°è®¡ç®—æ ¡éªŒå’Œ                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Step 4: æ¯”å¯¹æ ¡éªŒå’Œ                           â”‚
â”‚   è®¡ç®—å€¼ == å­˜å‚¨å€¼ ?                         â”‚
â”‚   â”œâ”€â”€ æ˜¯ â†’ éªŒè¯é€šè¿‡ï¼ŒåŠ è½½æ•°æ®                â”‚
â”‚   â””â”€â”€ å¦ â†’ è§¦å‘æ¢å¤æµç¨‹                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ ¡éªŒå¤±è´¥æ¢å¤

```
æ ¡éªŒå¤±è´¥
    â”‚
    â–¼
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
âš ï¸ æ£€æŸ¥ç‚¹æ ¡éªŒå¤±è´¥
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
æ–‡ä»¶: checkpoint.json
æœŸæœ›: sha256:abc123...
å®é™…: sha256:def456...
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ğŸ”„ å°è¯•ä»å¤‡ä»½æ¢å¤...
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ä¾æ¬¡å°è¯•å¤‡ä»½æ–‡ä»¶:                            â”‚
â”‚   1. checkpoint.json.backup.1               â”‚
â”‚   2. checkpoint.json.backup.2               â”‚
â”‚   3. checkpoint.json.backup.3               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â”œâ”€â”€ æ‰¾åˆ°æœ‰æ•ˆå¤‡ä»½ â†’ æ¢å¤å¹¶æç¤ºç”¨æˆ·
    â”‚
    â””â”€â”€ æ‰€æœ‰å¤‡ä»½æ— æ•ˆ â†’ æŠ¥å‘ŠæŸåï¼Œæä¾›é€‰é¡¹
            â”‚
            â–¼
        â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
        â•‘ âŒ æ£€æŸ¥ç‚¹æ•°æ®æŸå                                          â•‘
        â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
        â•‘ æ‰€æœ‰å¤‡ä»½æ–‡ä»¶å‡æ— æ•ˆ                                         â•‘
        â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
        â•‘ ğŸ“‹ é€‰é¡¹:                                                   â•‘
        â•‘   [1] ğŸ”„ ä»å†å²è®°å½•æ¢å¤                                    â•‘
        â•‘   [2] ğŸ†• æ”¾å¼ƒæ£€æŸ¥ç‚¹ï¼Œé‡æ–°å¼€å§‹                              â•‘
        â•‘   [3] ğŸ“ æ‰‹åŠ¨æ£€æŸ¥æ–‡ä»¶                                      â•‘
        â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

---

## å¤šç‰ˆæœ¬å¤‡ä»½ç­–ç•¥

### æ–‡ä»¶ç»“æ„

```
.skillpack/current/
â”œâ”€â”€ checkpoint.json           # å½“å‰æ£€æŸ¥ç‚¹
â”œâ”€â”€ checkpoint.json.sha256    # æ ¡éªŒå’Œæ–‡ä»¶
â”œâ”€â”€ checkpoint.json.backup.1  # æœ€è¿‘å¤‡ä»½ (1 æ¬¡ä¿å­˜å‰)
â”œâ”€â”€ checkpoint.json.backup.2  # è¾ƒæ—©å¤‡ä»½ (2 æ¬¡ä¿å­˜å‰)
â””â”€â”€ checkpoint.json.backup.3  # æœ€æ—©å¤‡ä»½ (3 æ¬¡ä¿å­˜å‰)
```

### è½®è½¬ç­–ç•¥

```
æ–°ä¿å­˜è§¦å‘æ—¶:
  .backup.3 â†’ åˆ é™¤
  .backup.2 â†’ .backup.3
  .backup.1 â†’ .backup.2
  checkpoint.json â†’ .backup.1
  æ–°æ•°æ® â†’ checkpoint.json
```

### é…ç½®

```json
{
  "checkpoint": {
    "backup_count": 3,
    "backup_on_phase_complete": true,
    "backup_on_error": true
  }
}
```

---

## æ£€æŸ¥ç‚¹ä¿å­˜æ—¶æœº

### è‡ªåŠ¨ä¿å­˜

| äº‹ä»¶ | ä¿å­˜å†…å®¹ | ä¼˜å…ˆçº§ | è§¦å‘å¤‡ä»½ |
|------|----------|--------|----------|
| é˜¶æ®µå®Œæˆ | å®Œæ•´çŠ¶æ€ + è¾“å‡ºæ–‡ä»¶ | é«˜ | âœ… |
| å­ä»»åŠ¡å®Œæˆ | å­ä»»åŠ¡çŠ¶æ€ + æ–‡ä»¶å˜æ›´ | é«˜ | âœ… |
| æ–‡ä»¶å†™å…¥å | æ–‡ä»¶æ ¡éªŒå’Œ | ä¸­ | âŒ |
| æ¯ 5 åˆ†é’Ÿ | å¢é‡çŠ¶æ€ | ä½ | âŒ |
| é”™è¯¯å‘ç”Ÿå‰ | é”™è¯¯å‰çŠ¶æ€ | é«˜ | âœ… |
| MCP è°ƒç”¨å‰ | å½“å‰çŠ¶æ€ | ä¸­ | âŒ |

### æ‰‹åŠ¨ä¿å­˜

ç”¨æˆ·å¯é€šè¿‡ä»¥ä¸‹æ–¹å¼æ‰‹åŠ¨ä¿å­˜ï¼š
- è¾“å…¥ `save` æˆ– `checkpoint`
- ä½¿ç”¨å¿«æ·é”®ï¼ˆå¦‚æ”¯æŒï¼‰

---

## æ¢å¤å‘½ä»¤

### åŸºæœ¬æ¢å¤

```bash
/do --resume
```

ä»æœ€è¿‘çš„æ£€æŸ¥ç‚¹æ¢å¤ï¼š
1. è¯»å– `.skillpack/current/checkpoint.json`
2. **éªŒè¯ SHA-256 æ ¡éªŒå’Œ**
3. æ ¡éªŒå¤±è´¥æ—¶å°è¯•ä»å¤‡ä»½æ¢å¤
4. æ¢å¤æ‰§è¡Œä¸Šä¸‹æ–‡
5. ä»ä¸­æ–­ç‚¹ç»§ç»­

### æŒ‡å®šä»»åŠ¡æ¢å¤

```bash
/do --resume <task_id>
```

ä»å†å²æ£€æŸ¥ç‚¹æ¢å¤ï¼š
1. åœ¨ `.skillpack/history/` ä¸­æŸ¥æ‰¾æŒ‡å®š task_id
2. æ¢å¤åˆ° current ç›®å½•
3. ç»§ç»­æ‰§è¡Œ

### æŸ¥çœ‹å¯æ¢å¤ä»»åŠ¡

```bash
/do --list-checkpoints
```

è¾“å‡ºï¼š
```
ğŸ“‹ å¯æ¢å¤çš„ä»»åŠ¡:

[1] task-uuid-1234 (æœ€è¿‘) âœ… æ ¡éªŒé€šè¿‡
    ä»»åŠ¡: "add user authentication"
    çŠ¶æ€: Phase 2/3, 60% å®Œæˆ
    æ›´æ–°: 2026-01-18 10:30:00

[2] task-uuid-5678 âš ï¸ éœ€è¦ä»å¤‡ä»½æ¢å¤
    ä»»åŠ¡: "build complete CMS"
    çŠ¶æ€: Phase 3/4, å­ä»»åŠ¡ 2/5
    æ›´æ–°: 2026-01-17 15:45:00

ä½¿ç”¨ /do --resume <task_id> æ¢å¤
```

---

## æ¢å¤æµç¨‹

### Step 1: éªŒè¯æ£€æŸ¥ç‚¹

```
1. æ£€æŸ¥æ£€æŸ¥ç‚¹æ–‡ä»¶æ˜¯å¦å­˜åœ¨
2. éªŒè¯ JSON æ ¼å¼
3. **éªŒè¯ SHA-256 æ ¡éªŒå’Œ**
4. æ ¡éªŒå¤±è´¥æ—¶å°è¯•å¤‡ä»½æ¢å¤
5. æ£€æŸ¥ç‰ˆæœ¬å…¼å®¹æ€§
```

### Step 2: æ¢å¤ä¸Šä¸‹æ–‡

```
1. åŠ è½½ä»»åŠ¡æè¿°å’Œè·¯ç”±å†³ç­–
2. æ¢å¤è¯„åˆ†ä¿¡æ¯
3. åŠ è½½çŸ¥è¯†åº“æŸ¥è¯¢ç»“æœ
4. æ¢å¤ Todo åˆ—è¡¨
```

### Step 3: å®šä½æ¢å¤ç‚¹

```
1. ç¡®å®šå½“å‰é˜¶æ®µ
2. ç¡®å®šå½“å‰å­ä»»åŠ¡ï¼ˆå¦‚é€‚ç”¨ï¼‰
3. ç¡®å®šå­ä»»åŠ¡å†…çš„æ­¥éª¤
```

### Step 4: ç»§ç»­æ‰§è¡Œ

```
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ”„ ä»æ£€æŸ¥ç‚¹æ¢å¤
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ä»»åŠ¡: {task_description}
æ¢å¤ç‚¹: Phase {N}, {è¯¦ç»†ä½ç½®}
å·²å®Œæˆ: {completed_percentage}%
æ ¡éªŒçŠ¶æ€: âœ… é€šè¿‡ | âš ï¸ ä»å¤‡ä»½æ¢å¤
ç»§ç»­æ‰§è¡Œ...
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
```

---

## è¾“å‡ºç›®å½•ç»“æ„

```
.skillpack/
â”œâ”€â”€ current/
â”‚   â”œâ”€â”€ checkpoint.json           # å½“å‰æ£€æŸ¥ç‚¹
â”‚   â”œâ”€â”€ checkpoint.json.sha256    # æ ¡éªŒå’Œæ–‡ä»¶
â”‚   â”œâ”€â”€ checkpoint.json.backup.1  # å¤‡ä»½ 1
â”‚   â”œâ”€â”€ checkpoint.json.backup.2  # å¤‡ä»½ 2
â”‚   â”œâ”€â”€ checkpoint.json.backup.3  # å¤‡ä»½ 3
â”‚   â”œâ”€â”€ 1_analysis.md             # é˜¶æ®µè¾“å‡º
â”‚   â”œâ”€â”€ 2_plan.md
â”‚   â”œâ”€â”€ execution.log.jsonl       # æ‰§è¡Œæ—¥å¿—
â”‚   â””â”€â”€ error.log                 # é”™è¯¯æ—¥å¿—
â”‚
â””â”€â”€ history/
    â”œâ”€â”€ 2026-01-18_103000_RALPH_æ·»åŠ è®¤è¯/
    â”‚   â”œâ”€â”€ checkpoint.json
    â”‚   â”œâ”€â”€ manifest.json
    â”‚   â””â”€â”€ ...
    â””â”€â”€ 2026-01-17_154500_PLANNED_ä¿®å¤bug/
        â””â”€â”€ ...
```

---

## é…ç½®é€‰é¡¹

åœ¨ `.skillpackrc` ä¸­é…ç½®ï¼š

```json
{
  "checkpoint": {
    "auto_save": true,
    "atomic_writes": true,
    "save_interval_minutes": 5,
    "max_history": 10,
    "verify_on_resume": true,
    "backup_count": 3
  }
}
```

| é€‰é¡¹ | é»˜è®¤å€¼ | è¯´æ˜ |
|------|--------|------|
| `auto_save` | true | å¯ç”¨è‡ªåŠ¨ä¿å­˜ |
| `atomic_writes` | true | ä½¿ç”¨åŸå­å†™å…¥ (v2.0) |
| `save_interval_minutes` | 5 | è‡ªåŠ¨ä¿å­˜é—´éš” |
| `max_history` | 10 | ä¿ç•™çš„å†å²ä»»åŠ¡æ•° |
| `verify_on_resume` | true | æ¢å¤æ—¶éªŒè¯æ ¡éªŒå’Œ |
| `backup_count` | 3 | ä¿ç•™çš„å¤‡ä»½æ•°é‡ (v2.0) |

---

## æ¸…ç†å‘½ä»¤

### æ¸…ç†å½“å‰ä»»åŠ¡

```bash
/do --clear
```

åˆ é™¤ `.skillpack/current/` ä¸‹æ‰€æœ‰æ–‡ä»¶ï¼ˆä¿ç•™ç›®å½•ï¼‰ã€‚

### æ¸…ç†å†å²

```bash
/do --clean-history [--keep N]
```

æ¸…ç†æ—§çš„å†å²è®°å½•ï¼Œä¿ç•™æœ€è¿‘ N ä¸ªï¼ˆé»˜è®¤ 5ï¼‰ã€‚

---

## ç‰ˆæœ¬è¿ç§»

### v1.0 â†’ v2.0

è‡ªåŠ¨è¿ç§»æµç¨‹ï¼š
1. æ£€æµ‹åˆ°æ—§ç‰ˆæœ¬æ£€æŸ¥ç‚¹
2. æ·»åŠ  checksum å­—æ®µ
3. åˆ›å»º .sha256 æ–‡ä»¶
4. è½¬æ¢ä¸ºæ–° Schema æ ¼å¼
5. ä¿å­˜å¹¶é€šçŸ¥ç”¨æˆ·

```
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ”„ æ£€æŸ¥ç‚¹ç‰ˆæœ¬å‡çº§
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
å½“å‰ç‰ˆæœ¬: 1.0 â†’ ç›®æ ‡ç‰ˆæœ¬: 2.0
æ–°å¢ç‰¹æ€§: åŸå­å†™å…¥ã€SHA-256 æ ¡éªŒå’Œã€å¤šç‰ˆæœ¬å¤‡ä»½
çŠ¶æ€: âœ… è¿ç§»æˆåŠŸ
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
```
